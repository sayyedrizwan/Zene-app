<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Zene Video</title>
        <style>
            * {
                padding: 0;
                margin: 0;
            }

            .player {
                position: fixed;
                left: 0;
                bottom: 0;
                width: 100%;
                height: 100%;
            }
        </style>
    </head>

    <body>
        <div id="player" class="player"></div>

        <script>
            var tag = document.createElement('script');

            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            var player;
            function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                    videoId: '<<VideoID>>',
                    playerVars: {
                        autoplay: 1,
                        playsinline: 1,
                        mute: 0,
                        controls: 1,
                        showinfo: 0,
                        modestbranding: 1,
                        loop: 1,
                        fs: 0,
                        enablejsapi: 1,
                        playlist: ['<<VideoID>>'],
                        rel: 0
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                })
            }

            function onPlayerReady(event) {
                event.target.setVolume(100);
                event.target.playVideo();
                setTimeout(() => {
                    event.target.unMute()
                }, 500);
                console.log(event.target)
                console.log(event.target.getDuration())
                ZeneListener.playerState(event.target.getPlayerState())
            }

            function onPlayerStateChange(event) {
                setTimeout(() => {
                    metadataDurations()
                    ZeneListener.playerState(event.target.getPlayerState())
                }, 500);
            }

            function pauseSong() {
                player.pauseVideo()
            }

            function playSong() {
                player.playVideo()
            }

            function playerDurations() {
                if (player.getDuration() == undefined || player.getCurrentTime() == undefined) {
                    ZeneListener.playerDuration(-1, -1)
                } else {
                    ZeneListener.playerDuration(player.getCurrentTime(), player.getDuration())
                }
            }

            function metadataDurations() {
if ("mediaSession" in navigator) {
  navigator.mediaSession.metadata = new MediaMetadata({
    title: "Unforgettable",
    artist: "Nat King Cole",
    album: "The Ultimate Collection (Remastered)",
    artwork: [
      {
        src: "https://dummyimage.com/96x96",
        sizes: "96x96",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/128x128",
        sizes: "128x128",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/192x192",
        sizes: "192x192",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/256x256",
        sizes: "256x256",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/384x384",
        sizes: "384x384",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/512x512",
        sizes: "512x512",
        type: "image/png",
      },
    ],
  });

  navigator.mediaSession.setActionHandler("play", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("pause", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("stop", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("seekbackward", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("seekforward", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("seekto", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("previoustrack", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("nexttrack", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("skipad", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("togglecamera", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("togglemicrophone", () => {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("hangup", () => {
    /* Code excerpted. */
  });
}
            }

        </script>
    </body>
</html>