<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
                name="viewport"
                content="width=device-width, initial-scale=1.0" />
        <script
                src="https://mirotalk-zene.onrender.com/js/iframe.js"
                defer></script>
        <title>MiroTalk P2P Iframe Demo</title>

        <style>
            * {
              height: 100%;
              width: 100%;
              padding: 0;
              margin: 0;
            }

            #meet-container {
              position: fixed;
              height: 100%;
              width: 100%;
            }
        </style>
    </head>
    <body>
        <div style="position: fixed">
            <script>
                const iframe = document.querySelector('meet');

                window.addEventListener("message", (event) => {
                  if (event.data.type === "user-joined") {
                    Zene.callPicked();
                  }
                  if (event.data.type === "no-users") {
                    Zene.noUser();
                  }
                  if (event.data.type === "end-call") {
                    Zene.callEnded();
                  }
                  if (event.data.type === "audio-status") {
                    Zene.isMicEnabled(event.data.status);
                  }

                  if (event.data.type === "video-status") {
                    Zene.isVideoEnabled(event.data.status);
                  }
                });
            </script>

            <script>
                document.addEventListener("DOMContentLoaded", function () {
                  const domain = "mirotalk-zene.onrender.com";
                  const width = window.innerWidth + "px";
                  const height = window.innerHeight + "px";

                  const options = {
                    room: "<<<RoomID>>>",
                    name: "<<<Name>>>",
                    avatar: "<<<Avatar>>>",
                    audio: false,
                    video: false,
                    screen: false,
                    hide: false,
                    hideInvite: false,
                    notify: false,
                    token: null,
                    width: width,
                    height: height,
                    parentNode: document.querySelector("#meet"),
                  };
                  const api = new IframeApi(domain, options);
                });
            </script>

            <div class="meet-container">
                <div id="meet"></div>
            </div>
        </div>
    </body>
</html>
